import{d as y,f as O,n as P,o as S,p as E,r as D,t as I}from"./chunk-OOGZQ4YG.js";import{$ as u,Aa as h,Ba as a,Ga as g,La as _,Qa as d,Xa as r,Ya as C,Za as v,aa as b,ab as n,bb as e,cb as l,fb as x,ib as m,jb as w,lb as s,mb as M,nb as k,tb as p}from"./chunk-Y3DSR7KR.js";var L=()=>["/dashboard/home-dashboard"],F=()=>["/dashboard/download"],j=()=>["/dashboard/buy-terra-coin"],R=()=>["/dashboard/send-terra-coin"],A=()=>["/dashboard/create-account-game"],H=()=>["/dashboard/change-password-game"],B=()=>["/dashboard/setting-account-master"],N=()=>["/dashboard/support"];function U(t,i){if(t&1){let c=x();n(0,"div",42),m("click",function(){u(c);let f=w();return b(f.toggleSidebar())}),e()}t&2&&C("display","none")}function V(t,i){t&1&&l(0,"i",43)}function q(t,i){t&1&&l(0,"i",44)}function W(t,i){t&1&&(n(0,"span",45),s(1,"Terra"),e())}function G(t,i){t&1&&(n(0,"span",46),s(1,"Home"),e())}function J(t,i){t&1&&(n(0,"span",46),s(1,"Community"),e())}function K(t,i){t&1&&(n(0,"span",46),s(1,"Download"),e())}function Q(t,i){t&1&&(n(0,"span",46),s(1,"Buy Terra Coin"),e())}function X(t,i){t&1&&(n(0,"span",46),s(1,"Send Terra Coin"),e())}function Y(t,i){t&1&&(n(0,"span",46),s(1,"Create Account"),e())}function Z(t,i){t&1&&(n(0,"span",46),s(1,"Change Password"),e())}function $(t,i){t&1&&(n(0,"span",46),s(1,"Settings"),e())}function ee(t,i){t&1&&(n(0,"span",46),s(1,"Support"),e())}var T=class t{constructor(i,c){this.authService=i;this.router=c}sidebarCollapsed=!1;isMobile=!1;accountMaster=null;ngOnInit(){this.checkScreenSize(),this.isMobile&&(this.sidebarCollapsed=!0),this.loadUserData()}onResize(i){this.checkScreenSize(),this.isMobile&&!this.sidebarCollapsed&&(this.sidebarCollapsed=!0)}checkScreenSize(){this.isMobile=window.innerWidth<768}toggleSidebar(){this.sidebarCollapsed=!this.sidebarCollapsed}loadUserData(){this.authService.getCurrentUser().subscribe({next:i=>{i?this.accountMaster=i:(console.error("No user data found"),this.accountMaster=null)},error:i=>{console.error("Error fetching user:",i),i?.message==="2FA required"&&this.router.navigate(["/two-factor-step"])}})}logout(){this.authService.logout().subscribe({next:()=>this.router.navigate(["/login"]),error:i=>console.error(i)})}static \u0275fac=function(c){return new(c||t)(g(I),g(S))};static \u0275cmp=_({type:t,selectors:[["app-dashboard2"]],hostBindings:function(c,o){c&1&&m("resize",function(z){return o.onResize(z)},!1,h)},decls:83,vars:33,consts:[[1,"dashboard-container"],["class","mobile-backdrop",3,"display","click",4,"ngIf"],[1,"sidebar"],[1,"sidebar-toggle",3,"click"],["class","fa-solid fa-arrow-right",4,"ngIf"],["class","fa-solid fa-arrow-left",4,"ngIf"],[1,"sidebar-header"],[1,"logo",2,"margin-left","-10px"],[1,"logo-icon"],["src","assets/images/Tlogo-terra.webp","width","40px","height","50px","alt",""],["class","logo-text",4,"ngIf"],[1,"sidebar-nav"],[1,"nav-list"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-icon"],[1,"fa-solid","fa-house-chimney"],["class","nav-text",4,"ngIf"],[1,"nav-link"],[1,"fa-solid","fa-users"],[1,"fa-solid","fa-cloud-arrow-down"],[1,"fa-solid","fa-coins"],[1,"fa-solid","fa-share"],[1,"fa-solid","fa-gamepad"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-gears"],[1,"fa-solid","fa-circle-question"],[1,"main-content"],[1,"header"],[1,"header-left"],[1,"page-title"],[1,"fa-solid","fa-table-columns"],[1,"header-right"],[1,"header-actions"],[1,"action-btn"],[1,"notification-badge",2,"display","none"],[1,"fa-solid","fa-bell"],[1,"user-profile"],[1,"user-name"],[1,"btn-logout",3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,"dashboard-content"],[1,"mobile-backdrop",3,"click"],[1,"fa-solid","fa-arrow-right"],[1,"fa-solid","fa-arrow-left"],[1,"logo-text"],[1,"nav-text"]],template:function(c,o){c&1&&(n(0,"div",0),d(1,U,1,2,"div",1),n(2,"aside",2)(3,"button",3),m("click",function(){return o.toggleSidebar()}),d(4,V,1,0,"i",4)(5,q,1,0,"i",5),e(),l(6,"br")(7,"br"),n(8,"div",6)(9,"div",7)(10,"span",8),l(11,"img",9),e(),d(12,W,2,0,"span",10),e()(),n(13,"nav",11)(14,"ul",12)(15,"li",13)(16,"a",14)(17,"span",15),l(18,"i",16),e(),d(19,G,2,0,"span",17),e()(),n(20,"li",13)(21,"a",18)(22,"span",15),l(23,"i",19),e(),d(24,J,2,0,"span",17),e()(),n(25,"li",13)(26,"a",14)(27,"span",15),l(28,"i",20),e(),d(29,K,2,0,"span",17),e()(),n(30,"li",13)(31,"a",14)(32,"span",15),l(33,"i",21),e(),d(34,Q,2,0,"span",17),e()(),n(35,"li",13)(36,"a",14)(37,"span",15),l(38,"i",22),e(),d(39,X,2,0,"span",17),e()(),n(40,"li",13)(41,"a",14)(42,"span",15),l(43,"i",23),e(),d(44,Y,2,0,"span",17),e()(),n(45,"li",13)(46,"a",14)(47,"span",15),l(48,"i",24),e(),d(49,Z,2,0,"span",17),e()(),n(50,"li",13)(51,"a",14)(52,"span",15),l(53,"i",25),e(),d(54,$,2,0,"span",17),e()(),n(55,"li",13)(56,"a",14)(57,"span",15),l(58,"i",26),e(),d(59,ee,2,0,"span",17),e()()()()(),n(60,"main",27)(61,"header",28)(62,"div",29)(63,"h1",30),l(64,"i",31),s(65," Dashboard Terra"),e()(),n(66,"div",32)(67,"div",33)(68,"button",34)(69,"span",35),s(70,"-"),e(),l(71,"i",36),e(),n(72,"div",37)(73,"span"),l(74,"i",21),s(75),e(),n(76,"span",38),s(77),e()(),n(78,"button",39),m("click",function(){return o.logout()}),l(79,"i",40),s(80," Logout "),e()()()(),n(81,"div",41),l(82,"router-outlet"),e()()()),c&2&&(a(),r("ngIf",!o.sidebarCollapsed),a(),v("collapsed",o.sidebarCollapsed),a(2),r("ngIf",o.sidebarCollapsed),a(),r("ngIf",!o.sidebarCollapsed),a(7),r("ngIf",!o.sidebarCollapsed),a(4),r("routerLink",p(25,L)),a(3),r("ngIf",!o.sidebarCollapsed),a(5),r("ngIf",!o.sidebarCollapsed),a(2),r("routerLink",p(26,F)),a(3),r("ngIf",!o.sidebarCollapsed),a(2),r("routerLink",p(27,j)),a(3),r("ngIf",!o.sidebarCollapsed),a(2),r("routerLink",p(28,R)),a(3),r("ngIf",!o.sidebarCollapsed),a(2),r("routerLink",p(29,A)),a(3),r("ngIf",!o.sidebarCollapsed),a(2),r("routerLink",p(30,H)),a(3),r("ngIf",!o.sidebarCollapsed),a(2),r("routerLink",p(31,B)),a(3),r("ngIf",!o.sidebarCollapsed),a(2),r("routerLink",p(32,N)),a(3),r("ngIf",!o.sidebarCollapsed),a(16),k(" Terra Coins: ",o.accountMaster==null?null:o.accountMaster.terraCoins,""),a(2),M(o.accountMaster==null?null:o.accountMaster.email))},dependencies:[O,y,P,D,E],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;height:100vh;background-color:#f8fafc;position:relative}.mobile-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:900}.sidebar[_ngcontent-%COMP%]{width:260px;background:linear-gradient(to bottom,#0c0f20,#000);color:#fff;transition:all .3s ease;overflow:hidden;position:relative;z-index:1000}.sidebar.collapsed[_ngcontent-%COMP%]{width:70px}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.logo-icon[_ngcontent-%COMP%]{font-size:1.5rem;min-width:24px}.logo-text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;white-space:nowrap;text-transform:uppercase;margin-top:10px}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem 0}.nav-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.nav-item[_ngcontent-%COMP%]{margin:.25rem 0}.nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#fff3;color:#fff}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1.5rem;color:#fffc;text-decoration:none;transition:all .2s ease;white-space:nowrap;font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#dabe64}.nav-icon[_ngcontent-%COMP%]{font-size:1.1rem;min-width:20px;text-align:center}.nav-text[_ngcontent-%COMP%]{display:inline-block}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background:#fff;border-bottom:1px solid #e2e8f0;box-shadow:0 1px 3px #0000001a;flex-wrap:wrap;gap:1rem}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;min-width:0}.sidebar-toggle[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.5rem;border-radius:.375rem;transition:background-color .2s;flex-shrink:0;float:right;margin-right:20px;color:#fffc;font-size:20px}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0;white-space:nowrap}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-shrink:0}.action-btn[_ngcontent-%COMP%]{position:relative;background:none;border:none;padding:.5rem;border-radius:.375rem;cursor:pointer;font-size:1.1rem;transition:background-color .2s}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f1f5f9}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background-color:#ef4444;color:#fff;font-size:.75rem;padding:.125rem .375rem;border-radius:9999px;min-width:1.25rem;text-align:center}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;border-radius:.5rem;cursor:pointer;transition:background-color .2s;background-color:#f1f5f9}.user-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;object-fit:cover;flex-shrink:0}.user-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;white-space:nowrap}.dashboard-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:1rem}.header-left[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.page-title[_ngcontent-%COMP%]{font-size:1.25rem}.header-right[_ngcontent-%COMP%]{width:100%;justify-content:center;flex-direction:row;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:space-around;width:100%;gap:.5rem}.user-profile[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.user-name[_ngcontent-%COMP%]{word-break:break-word}.btn-secondary[_ngcontent-%COMP%]{width:100%;text-align:center}}.btn-logout[_ngcontent-%COMP%]{border:none;border-radius:8px;background:linear-gradient(to right,#746535,#dabe64);color:#fff;font-weight:600;font-size:16px;cursor:pointer;transition:all .3s ease;position:relative;padding:7px}.btn-logout[_ngcontent-%COMP%]:hover{border:1px solid rgba(218,190,100,.5);border-radius:8px;background:transparent;color:#dabe64;font-weight:600;font-size:16px;cursor:pointer}@media (max-width: 402px){.header-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:5px}.btn-logout[_ngcontent-%COMP%]{width:100%}}"]})};export{T as Dashboard2Component};
