import{a as q}from"./chunk-YHG56CK5.js";import{a as k}from"./chunk-2NA6JJFW.js";import"./chunk-525NMH2I.js";import{c as B,d as $,e as F,f as N,g as G,i as Y}from"./chunk-2LL2IYUS.js";import{j as W,l as H,p as R,t as U}from"./chunk-FEPRFNA5.js";import{Eb as M,F as E,Fb as l,N as L,Nb as O,Oa as I,Pa as D,Qa as u,Qb as w,R as T,Rb as y,Tb as P,Va as f,W as j,_a as z,ba as d,ca as m,db as g,j as A,k as v,lb as b,nb as V,qb as e,rb as t,sb as i,tb as S,ub as C,vb as h,yb as p,zb as _}from"./chunk-RQKQ5XMY.js";var x=class s{constructor(n){this.authService=n}authStateSubject=new v(!1);userDataSubject=new v(null);isLoadingSubject=new v(!1);initialized=!1;isInitializing=!1;initializeAuthState(){return this.initialized?this.authStateSubject.asObservable():this.isInitializing?this.authStateSubject.asObservable():(this.isInitializing=!0,this.initialized=!0,console.log("\u{1F50D} [AUTH STATE] Inicializando estado de autenticaci\xF3n"),this.authService.isLoggedIn().subscribe({next:n=>{console.log("\u{1F50D} [AUTH STATE] Estado de autenticaci\xF3n:",n),this.authStateSubject.next(n),this.isInitializing=!1,n&&this.loadUserData()},error:n=>{console.log("\u{1F50D} [AUTH STATE] Error al verificar autenticaci\xF3n:",n),this.authStateSubject.next(!1),this.userDataSubject.next(null),this.isInitializing=!1}}),this.authStateSubject.asObservable())}get isAuthenticated$(){return this.authStateSubject.asObservable()}get isAuthenticated(){return this.authStateSubject.value}get userData$(){return this.userDataSubject.asObservable()}get userData(){return this.userDataSubject.value}get isLoading$(){return this.isLoadingSubject.asObservable()}loadUserData(){this.isLoadingSubject.value||(console.log("\u{1F50D} [AUTH STATE] Cargando datos de usuario"),this.isLoadingSubject.next(!0),this.authService.getCurrentUser().subscribe({next:n=>{console.log("\u{1F50D} [AUTH STATE] Datos de usuario cargados:",n),this.userDataSubject.next(n),this.isLoadingSubject.next(!1)},error:n=>{console.error("\u{1F50D} [AUTH STATE] Error cargando datos de usuario:",n),this.userDataSubject.next(null),this.isLoadingSubject.next(!1),(n.status===401||n.status===403)&&this.authStateSubject.next(!1)}}))}updateAuthState(n){console.log("\u{1F50D} [AUTH STATE] Actualizando estado:",n),this.authStateSubject.next(n),n||this.userDataSubject.next(null)}clearUserData(){console.log("\u{1F50D} [AUTH STATE] Limpiando datos de usuario"),this.userDataSubject.next(null)}refreshUserData(){this.isAuthenticated&&!this.isLoadingSubject.value&&(console.log("\u{1F50D} [AUTH STATE] Refrescando datos de usuario"),this.loadUserData())}reset(){console.log("\u{1F50D} [AUTH STATE] Reseteando estado"),this.initialized=!1,this.isInitializing=!1,this.authStateSubject.next(!1),this.userDataSubject.next(null),this.isLoadingSubject.next(!1)}static \u0275fac=function(a){return new(a||s)(j(k))};static \u0275prov=T({token:s,factory:s.\u0275fac,providedIn:"root"})};var J=()=>({exact:!0});function ee(s,n){s&1&&(S(0),e(1,"a",49),i(2,"i",50),e(3,"span"),l(4,"Go to Dashboard"),t()(),C())}function te(s,n){s&1&&(e(0,"a",51),i(1,"i",52),e(2,"span"),l(3,"Login"),t()(),e(4,"a",53),i(5,"i",54),e(6,"span"),l(7,"Register"),t()())}function ne(s,n){if(s&1){let a=h();e(0,"div",55),p("click",function(){d(a);let r=_();return m(r.closeMenu())}),t()}}function ie(s,n){if(s&1){let a=h();S(0),e(1,"a",56),p("click",function(){d(a);let r=_();return m(r.closeMenu())}),i(2,"i",50),e(3,"span"),l(4,"Go to Dashboard"),t()(),C()}}function oe(s,n){if(s&1){let a=h();e(0,"div",57)(1,"a",58),p("click",function(){d(a);let r=_();return m(r.closeMenu())}),i(2,"i",54),e(3,"span"),l(4,"Register"),t()(),e(5,"a",59),p("click",function(){d(a);let r=_();return m(r.closeMenu())}),i(6,"i",52),e(7,"span"),l(8,"Login"),t()()()}}var K=class s{constructor(n,a,o,r,c){this.authService=n;this.authStateService=a;this.router=o;this.route=r;this.preloadService=c;let re=this.authStateService.initializeAuthState().pipe(E(1),L(this.destroy$)).subscribe();this.isLoggedIn$=this.authStateService.isAuthenticated$}isLoggedIn$;destroy$=new A;isMenuOpen=!1;ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}onDocumentClick(n){let a=n.target,o=document.querySelector(".navbar-container");this.isMenuOpen&&o&&!o.contains(a)&&this.closeMenu()}onResize(){window.innerWidth>=768&&this.closeMenu()}static \u0275fac=function(a){return new(a||s)(f(k),f(x),f(F),f(B),f(q))};static \u0275cmp=z({type:s,selectors:[["app-website"]],hostBindings:function(a,o){a&1&&p("click",function(c){return o.onDocumentClick(c)},!1,D)("resize",function(c){return o.onResize(c)},!1,I)},decls:87,vars:16,consts:[["authButtons",""],["mobileAuthButtons",""],[1,"navbar-container","gradient1"],[1,"navbar-content"],["routerLink","/",1,"logo"],[1,"logo-icon"],["src","assets/images/logot.png","height","60px","width","40px"],[1,"desktop-nav"],["routerLink","/","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],[1,"fas","fa-home"],["routerLink","/downloads","routerLinkActive","active-link",1,"nav-link"],[1,"fas","fa-download"],["routerLink","/statistics","routerLinkActive","active-link",1,"nav-link"],[1,"fas","fa-chart-bar"],["routerLink","/information","routerLinkActive","active-link",1,"nav-link"],[1,"fas","fa-info-circle"],["routerLink","/gallery","routerLinkActive","active-link",1,"nav-link"],[1,"fas","fa-images"],[1,"desktop-social"],["href","https://instagram.com","target","_blank","rel","noopener noreferrer","title","Instagram",1,"social-link"],[1,"fab","fa-instagram"],["href","https://facebook.com","target","_blank","rel","noopener noreferrer","title","Facebook",1,"social-link"],[1,"fa-brands","fa-facebook-f"],["href","https://discord.gg/Sqeu8yrnJB","target","_blank","rel","noopener noreferrer","title","Discord",1,"social-link"],[1,"fab","fa-discord"],["href","https://discord.com","target","_blank","rel","noopener noreferrer","title","Youtube",1,"social-link"],[1,"fab","fa-youtube"],[1,"desktop-auth"],[4,"ngIf","ngIfElse"],[1,"mobile-menu-btn",3,"click"],[1,"fas","fa-bars"],["class","mobile-overlay",3,"click",4,"ngIf"],[1,"mobile-menu","gradient1"],[1,"mobile-menu-content"],[1,"fas",3,"ngClass"],[1,"mobile-nav-section"],["routerLink","/","routerLinkActive","active-mobile-link",1,"mobile-nav-link",3,"click","routerLinkActiveOptions"],["routerLink","/downloads","routerLinkActive","active-mobile-link",1,"mobile-nav-link"],["routerLink","/statistics","routerLinkActive","active-mobile-link",1,"mobile-nav-link",3,"click"],["routerLink","/information","routerLinkActive","active-mobile-link",1,"mobile-nav-link",3,"click"],["routerLink","/gallery","routerLinkActive","active-mobile-link",1,"mobile-nav-link",3,"click"],[1,"mobile-social-section"],[1,"section-title"],[1,"mobile-social-links"],["href","https://instagram.com","target","_blank","rel","noopener noreferrer","title","Instagram",1,"mobile-social-link",3,"click"],["href","https://facebook.com","target","_blank","rel","noopener noreferrer","title","Facebook",1,"mobile-social-link",3,"click"],["href","https://discord.gg/Sqeu8yrnJB","target","_blank","rel","noopener noreferrer","title","Discord",1,"mobile-social-link",3,"click"],["href","https://discord.com","target","_blank","rel","noopener noreferrer","title","Youtube",1,"mobile-social-link"],[1,"mobile-auth-section"],["routerLink","/dashboard",1,"btn","btn-primary"],[1,"fas","fa-tachometer-alt"],["routerLink","/login",1,"btn","btn-secondary"],[1,"fas","fa-sign-in-alt"],["routerLink","/register",1,"btn","btn-primary"],[1,"fas","fa-user-plus"],[1,"mobile-overlay",3,"click"],["routerLink","/dashboard",1,"btn","btn-primary","full-width",3,"click"],[1,"mobile-auth-buttons"],["routerLink","/register",1,"btn","btn-primary","full-width",3,"click"],["routerLink","/login",1,"btn","btn-secondary","full-width",3,"click"]],template:function(a,o){if(a&1){let r=h();e(0,"nav",2)(1,"div",3)(2,"a",4)(3,"div",5)(4,"span"),i(5,"img",6),t()()(),e(6,"div",7)(7,"a",8),i(8,"i",9),e(9,"span"),l(10,"Home"),t()(),e(11,"a",10),i(12,"i",11),e(13,"span"),l(14,"Downloads"),t()(),e(15,"a",12),i(16,"i",13),e(17,"span"),l(18,"Statistics"),t()(),e(19,"a",14),i(20,"i",15),e(21,"span"),l(22,"Information"),t()(),e(23,"a",16),i(24,"i",17),e(25,"span"),l(26,"Gallery"),t()()(),e(27,"div",18)(28,"a",19),i(29,"i",20),t(),e(30,"a",21),i(31,"i",22),t(),e(32,"a",23),i(33,"i",24),t(),e(34,"a",25),i(35,"i",26),t()(),e(36,"div",27),g(37,ee,5,0,"ng-container",28),w(38,"async"),g(39,te,8,0,"ng-template",null,0,P),t(),e(41,"button",29),p("click",function(){return d(r),m(o.toggleMenu())}),i(42,"i",30),t()(),g(43,ne,1,0,"div",31),e(44,"div",32)(45,"div",33)(46,"button",29),p("click",function(){return d(r),m(o.toggleMenu())}),i(47,"i",34),t(),e(48,"div",35)(49,"a",36),p("click",function(){return d(r),m(o.closeMenu())}),i(50,"i",9),e(51,"span"),l(52,"Home"),t()(),e(53,"a",37),i(54,"i",11),e(55,"span"),l(56,"Downloads"),t()(),e(57,"a",38),p("click",function(){return d(r),m(o.closeMenu())}),i(58,"i",13),e(59,"span"),l(60,"Statistics"),t()(),e(61,"a",39),p("click",function(){return d(r),m(o.closeMenu())}),i(62,"i",15),e(63,"span"),l(64,"Information"),t()(),e(65,"a",40),p("click",function(){return d(r),m(o.closeMenu())}),i(66,"i",17),e(67,"span"),l(68,"Gallery"),t()()(),e(69,"div",41)(70,"p",42),l(71,"Follow us"),t(),e(72,"div",43)(73,"a",44),p("click",function(){return d(r),m(o.closeMenu())}),i(74,"i",20),t(),e(75,"a",45),p("click",function(){return d(r),m(o.closeMenu())}),i(76,"i",22),t(),e(77,"a",46),p("click",function(){return d(r),m(o.closeMenu())}),i(78,"i",24),t(),e(79,"a",47),i(80,"i",26),t()()(),e(81,"div",48),g(82,ie,5,0,"ng-container",28),w(83,"async"),g(84,oe,9,0,"ng-template",null,1,P),t()()()(),i(86,"router-outlet")}if(a&2){let r=M(40),c=M(85);u(7),b("routerLinkActiveOptions",O(14,J)),u(30),b("ngIf",y(38,10,o.isLoggedIn$))("ngIfElse",r),u(6),b("ngIf",o.isMenuOpen),u(),V("open",o.isMenuOpen),u(3),b("ngClass",o.isMenuOpen?"fa-times":"fa-bars"),u(2),b("routerLinkActiveOptions",O(15,J)),u(33),b("ngIf",y(83,12,o.isLoggedIn$))("ngIfElse",c)}},dependencies:[Y,$,N,G,U,W,H,R],styles:['.gradient1[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,#000,#030307 26%,#06070f 38% 48%,#070912 55%,#080a16 61% 67%,#0a0c1a 72% 77%,#0a0c1a 82%,#0b0e1e 87% 93%,#0d1021)}.social-link[_ngcontent-%COMP%], .mobile-social-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;color:#fff;text-decoration:none;transition:all .2s;font-size:14px}.social-link[_ngcontent-%COMP%]:hover, .mobile-social-link[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.social-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .mobile-social-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;width:28px;height:28px;line-height:28px;display:flex;align-items:center;justify-content:center;border-radius:50%;vertical-align:middle}.fa-instagram[_ngcontent-%COMP%]{background:radial-gradient(circle at 30% 107%,#fdf497 0% 5%,#fd5949 45%,#d6249f 60%,#285aeb 90%);color:#fff!important}.fa-facebook-f[_ngcontent-%COMP%]{background-color:#1877f2;color:#fff!important}.fa-discord[_ngcontent-%COMP%]{background-color:#5865f2;color:#fff!important}.fa-youtube[_ngcontent-%COMP%]{background-color:red;color:#fff!important;padding:0!important;margin:0!important}@media (max-width: 767px){.fa-youtube[_ngcontent-%COMP%]{transform:translateY(1px)}}.social-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .mobile-social-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{filter:brightness(1.2)}.navbar-container[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;width:100%;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 1px 3px #0000001a}.navbar-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:64px;padding:0 16px}.dark[_ngcontent-%COMP%]   .navbar-container[_ngcontent-%COMP%]{border-bottom:1px solid rgb(55 65 81)}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;text-decoration:none;color:inherit}.logo-icon[_ngcontent-%COMP%]{width:40px;height:32px;display:flex;align-items:end;justify-content:center;filter:drop-shadow(0px 0px 15px white)}.logo-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.logo-icon[_ngcontent-%COMP%]:hover{transform:rotate(10deg) scale(1.2)}.logo-text[_ngcontent-%COMP%]{display:none;font-weight:700;color:#1f2937}.desktop-nav[_ngcontent-%COMP%]{display:none;align-items:center;gap:24px}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;text-decoration:none;color:#fff;font-size:14px;font-weight:bolder;transition:color .2s;font-family:Marcellus SC;letter-spacing:1px;cursor:pointer;text-shadow:0px 0px 15px #dabe64}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dabe64}.nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-letter{font-size:15px;font-weight:1000;color:#dabe64}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active-link[_ngcontent-%COMP%]{color:#dabe64}.desktop-social[_ngcontent-%COMP%]{display:none;align-items:center;gap:16px;border-left:1px solid #e5e7eb;padding-left:24px}.desktop-auth[_ngcontent-%COMP%]{display:none;align-items:center;gap:12px}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;font-size:14px;font-weight:500;text-decoration:none;border:none;cursor:pointer;font-family:Marcellus SC}.btn-primary[_ngcontent-%COMP%]{color:#fff;position:relative;border-radius:0}.btn-primary[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;left:-5px;width:5px;height:100%;border-right:5px solid #746535;border-top:5px solid transparent;border-bottom:5px solid transparent}.btn-primary[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;right:-5px;width:5px;height:100%;border-left:5px solid #dabe64;border-top:5px solid transparent;border-bottom:5px solid transparent}.btn-primary[_ngcontent-%COMP%]:hover:after{border-left:5px solid transparent;filter:drop-shadow(2px 0px 5px red)}.btn-primary[_ngcontent-%COMP%]:hover:before{border-right:5px solid transparent}.btn-secondary[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #dabe64;color:#dabe64}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#dabe64;color:#fff}.mobile-menu-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border:1px solid #dabe64;background-color:transparent;border-radius:6px;color:#dabe64;cursor:pointer}.mobile-menu-btn[_ngcontent-%COMP%]:hover{background-color:#dabe64;color:#fff}.mobile-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:1001}.mobile-menu[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;width:300px;background-color:#fff;transform:translate(100%);z-index:1002;overflow-y:auto}.mobile-menu.open[_ngcontent-%COMP%]{transform:translate(0)}.mobile-menu-content[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column;gap:16px;margin-top:24px}.mobile-nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.mobile-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;border-radius:8px;text-decoration:none;color:#fff;font-size:14px;font-weight:500;transition:all .2s}.mobile-nav-link[_ngcontent-%COMP%]:hover, .mobile-nav-link.active-mobile-link[_ngcontent-%COMP%]{color:#dabe64}.mobile-social-section[_ngcontent-%COMP%]{padding-top:16px}.section-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#fff;margin-bottom:12px}.mobile-social-links[_ngcontent-%COMP%]{display:flex;gap:16px}.mobile-social-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;color:#fff;text-decoration:none;transition:all .2s}.mobile-social-link[_ngcontent-%COMP%]:hover{color:#dabe64}.mobile-auth-section[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;padding-top:16px}.mobile-auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.full-width[_ngcontent-%COMP%]{width:100%;justify-content:center}@media (min-width: 640px){.md\\:hidden[_ngcontent-%COMP%]{display:none!important}.md\\:flex[_ngcontent-%COMP%]{display:flex!important}.logo-text[_ngcontent-%COMP%]{display:inline-block}.mobile-menu[_ngcontent-%COMP%]{width:400px}}@media (min-width: 768px){.desktop-nav[_ngcontent-%COMP%], .desktop-auth[_ngcontent-%COMP%]{display:flex}.mobile-menu-btn[_ngcontent-%COMP%]{display:none}}@media (min-width: 1024px){.desktop-social[_ngcontent-%COMP%]{display:flex}}.preload-black-screen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;z-index:2999;pointer-events:none}app-preload-open[_ngcontent-%COMP%]{z-index:3000;position:fixed;width:100vw;height:100vh;top:0;left:0;pointer-events:none}']})};export{K as WebsiteComponent};
