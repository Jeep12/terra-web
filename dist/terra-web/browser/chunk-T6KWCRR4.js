import{a as k}from"./chunk-DMVYGBAT.js";import{d as P}from"./chunk-ICOBZPUK.js";import{b as C,c as b,d as v,e as M,g as w,h as y,i as O,k as F,m as S}from"./chunk-2SYQN3QO.js";import"./chunk-HBKQTFWR.js";import{Aa as x,Ea as c,La as m,Na as o,Oa as n,Pa as r,Ra as f,Sa as p,Ua as a,Wa as u,ra as l,va as g,wb as h,yb as _}from"./chunk-EOTSGA3A.js";function I(t,s){if(t&1&&(o(0,"div",17)(1,"div",18),r(2,"i",19),a(3),n()()),t&2){let e=p();l(3),u(" ",e.responseMessage," ")}}function T(t,s){t&1&&(o(0,"span"),a(1,"Email is required"),n())}function z(t,s){t&1&&(o(0,"span"),a(1,"Please enter a valid email"),n())}function A(t,s){if(t&1&&(o(0,"div",20),c(1,T,2,0,"span",21)(2,z,2,0,"span",21),n()),t&2){let e,i,d=p();l(),m("ngIf",(e=d.forgotPasswordForm.get("email"))==null||e.errors==null?null:e.errors.required),l(),m("ngIf",(i=d.forgotPasswordForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function N(t,s){t&1&&(o(0,"div",25),r(1,"div",26),n())}function G(t,s){if(t&1&&(o(0,"button",22),c(1,N,2,0,"div",23),r(2,"i",24),a(3),n()),t&2){let e=p();m("disabled",e.forgotPasswordForm.invalid||e.loading),l(),m("ngIf",e.loading),l(2),u(" ",e.loading?"":"Send reset email"," ")}}function R(t,s){t&1&&(o(0,"div",27)(1,"div",28),r(2,"i",29),n(),o(3,"h3"),a(4,"Email sent!"),n(),o(5,"p"),a(6,"Check your inbox for the reset link."),n(),o(7,"p",30),r(8,"i",31),a(9," Check your spam folder if you don't see it."),n()())}var E=class t{constructor(s,e,i){this.fb=s;this.router=e;this.authService=i;this.forgotPasswordForm=this.fb.group({email:["",[b.required,b.email]]})}forgotPasswordForm;emailSent=!1;responseMessage="";loading=!1;sendResetEmail(){if(this.forgotPasswordForm.valid){this.loading=!0;let s=this.forgotPasswordForm.get("email")?.value;this.authService.recoveryPassword(s).subscribe({next:e=>{this.emailSent=!0,this.responseMessage=e.message||"Check your inbox for the reset link.",this.forgotPasswordForm.reset(),this.loading=!1},error:e=>{this.emailSent=!1,this.responseMessage=e.error?.message||"Error sending reset email, try again later.",this.loading=!1}})}else this.forgotPasswordForm.markAllAsTouched()}navigateToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)(g(F),g(P),g(k))};static \u0275cmp=x({type:t,selectors:[["app-forgot-password"]],decls:22,vars:5,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-title"],[1,"fas","fa-unlock-alt"],[1,"auth-subtitle"],[1,"far","fa-envelope-open"],["class","response-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","error-message",4,"ngIf"],["type","submit","class","btn-primary",3,"disabled",4,"ngIf"],["type","button",1,"btn-secondary",3,"click"],[1,"fas","fa-arrow-left"],["class","success-message",4,"ngIf"],[1,"response-message"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","text-danger"],[1,"error-message"],[4,"ngIf"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-container",4,"ngIf"],[1,"fas","fa-paper-plane"],[1,"loading-container"],[1,"loading-bar"],[1,"success-message"],[1,"success-icon"],[1,"fas","fa-check-circle"],[1,"small-text"],[1,"fas","fa-info-circle"]],template:function(e,i){if(e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"i",3),a(4," Forgot Password"),n(),o(5,"p",4),r(6,"i",5),a(7," Enter your email address and we'll send you a reset link. "),n(),c(8,I,4,1,"div",6),o(9,"form",7),f("ngSubmit",function(){return i.sendResetEmail()}),o(10,"div",8)(11,"label",9),r(12,"i",10),a(13," Email address"),n(),r(14,"input",11),c(15,A,3,2,"div",12),n(),c(16,G,4,3,"button",13),o(17,"button",14),f("click",function(){return i.navigateToLogin()}),r(18,"i",15),a(19," Back to login "),n()(),r(20,"br"),c(21,R,10,0,"div",16),n()()),e&2){let d;l(8),m("ngIf",i.responseMessage&&!i.emailSent),l(),m("formGroup",i.forgotPasswordForm),l(6),m("ngIf",((d=i.forgotPasswordForm.get("email"))==null?null:d.invalid)&&((d=i.forgotPasswordForm.get("email"))==null?null:d.touched)),l(),m("ngIf",!i.emailSent),l(5),m("ngIf",i.emailSent)}},dependencies:[_,h,S,w,C,v,M,y,O],styles:['.auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:linear-gradient(to bottom,#0c0f20,#000);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.auth-card[_ngcontent-%COMP%]{background-color:#ffffff0d;border-radius:12px;padding:30px;width:100%;max-width:400px;box-shadow:0 8px 32px #0000004d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.auth-title[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-bottom:10px;font-weight:600;font-size:24px}.auth-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.auth-subtitle[_ngcontent-%COMP%]{color:#ffffffb3;text-align:center;margin-bottom:30px;font-size:14px;line-height:1.5}.auth-subtitle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#e0e0e0;font-size:14px}label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;width:16px;text-align:center}.form-control[_ngcontent-%COMP%]{width:100%;height:40px;border-radius:8px;border:1px solid rgba(255,255,255,.2);background-color:#ffffff12;color:#fff;font-size:16px;transition:all .3s ease;padding:0 12px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#dabe6480;box-shadow:0 0 0 2px #dabe6440}.form-control[_ngcontent-%COMP%]::placeholder{color:#fff6}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:8px;background:linear-gradient(to right,#746535,#dabe64);color:#0c0f20;font-weight:600;font-size:16px;cursor:pointer;transition:all .3s ease;margin-bottom:16px;position:relative;overflow:hidden}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #dabe644d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.8;cursor:not-allowed;transform:none;box-shadow:none}.btn-primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.btn-secondary[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid rgba(218,190,100,.5);border-radius:8px;background:transparent;color:#dabe64;font-weight:600;font-size:16px;cursor:pointer;transition:all .3s ease}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#dabe641a}.btn-secondary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.loading-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:4px;overflow:hidden}.loading-bar[_ngcontent-%COMP%]{background-color:#0c0f204d;min-width:100%;min-height:4px;position:relative;overflow:hidden}.loading-bar[_ngcontent-%COMP%]:after{content:"";min-height:4px;position:absolute;background:linear-gradient(to right,#dabe64cc,#fffc);transform:translate(-100%);animation:_ngcontent-%COMP%_loadingAnim 2s infinite}.loading-bar[_ngcontent-%COMP%]:before{content:"";min-height:4px;position:absolute;background:linear-gradient(to right,#dabe64cc,#fffc);transform:translate(-100%);animation:_ngcontent-%COMP%_loadingAnim 2s infinite;animation-delay:1s}@keyframes _ngcontent-%COMP%_loadingAnim{0%{transform:translate(-150%);min-width:100px}to{transform:translate(300%);min-width:400px}}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;font-size:12px;margin-top:5px}.success-message[_ngcontent-%COMP%]{text-align:center;color:#fff;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.success-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(to right,#746535,#dabe64);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;font-size:30px;color:#0c0f20}.success-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffb3;margin-bottom:10px}.small-text[_ngcontent-%COMP%]{font-size:12px;opacity:.7}.small-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding:20px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{padding:10px}}']})};export{E as ForgotPasswordComponent};
