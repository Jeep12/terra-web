import{a as V}from"./chunk-TLMI5BDX.js";import{d as F}from"./chunk-ICOBZPUK.js";import{b as O,c as x,d as P,e as S,g as M,h as E,i as T,k as I,m as L}from"./chunk-2SYQN3QO.js";import"./chunk-K5KFXASE.js";import{Aa as v,Ea as p,Eb as k,La as m,Na as i,Oa as o,Pa as r,Qa as b,Ra as g,Sa as d,Ua as a,Wa as h,X as f,Y as u,ra as c,va as _,vb as C,wb as w,yb as y}from"./chunk-EOTSGA3A.js";function G(n,l){n&1&&(i(0,"span"),a(1," Email is required "),o())}function z(n,l){n&1&&(i(0,"span"),a(1," Please enter a valid email "),o())}function A(n,l){if(n&1&&(i(0,"div",25),p(1,G,2,0,"span",26)(2,z,2,0,"span",26),o()),n&2){let e,t,s=d(2);c(),m("ngIf",(e=s.emailForm.get("email"))==null||e.errors==null?null:e.errors.required),c(),m("ngIf",(t=s.emailForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function j(n,l){if(n&1){let e=b();i(0,"div",10)(1,"form",11),g("ngSubmit",function(){f(e);let s=d();return u(s.goToNextStep())}),i(2,"div",12)(3,"label",13),r(4,"i",14),a(5," Email address "),o(),r(6,"input",15),p(7,A,3,2,"div",16),o(),i(8,"button",17),a(9," Next "),r(10,"i",18),o()(),i(11,"div",19)(12,"p",20)(13,"span"),a(14,"Or continue with"),o()(),i(15,"div",21)(16,"button",22),g("click",function(){f(e);let s=d();return u(s.loginWithGoogle())}),r(17,"i",23),a(18," Google "),o(),i(19,"button",22),g("click",function(){f(e);let s=d();return u(s.loginWithFacebook())}),r(20,"i",24),a(21," Facebook "),o()()()()}if(n&2){let e,t=d();c(),m("formGroup",t.emailForm),c(6),m("ngIf",((e=t.emailForm.get("email"))==null?null:e.invalid)&&((e=t.emailForm.get("email"))==null?null:e.touched)),c(),m("disabled",t.emailForm.invalid)}}function q(n,l){n&1&&(i(0,"span"),a(1," Password is required "),o())}function D(n,l){if(n&1&&(i(0,"div",25),p(1,q,2,0,"span",26),o()),n&2){let e,t=d(2);c(),m("ngIf",(e=t.passwordForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function B(n,l){if(n&1&&(i(0,"li"),r(1,"i",37),a(2),o()),n&2){let e=l.$implicit;c(2),h(" ",e,"")}}function R(n,l){if(n&1&&(i(0,"div",34)(1,"ul",35),p(2,B,3,1,"li",36),o()()),n&2){let e=d(2);c(2),m("ngForOf",e.errors)}}function W(n,l){if(n&1){let e=b();i(0,"div",10)(1,"form",11),g("ngSubmit",function(){f(e);let s=d();return u(s.login())}),i(2,"div",12)(3,"label",27),r(4,"i",28),a(5," Password "),o(),r(6,"input",29),p(7,D,2,1,"div",16),o(),p(8,R,3,1,"div",30),i(9,"button",17),a(10," Login "),r(11,"i",31),o(),r(12,"br")(13,"br"),i(14,"button",32),g("click",function(){f(e);let s=d();return u(s.goBack())}),r(15,"i",33),a(16," Back "),o()()()}if(n&2){let e,t=d();c(),m("formGroup",t.passwordForm),c(6),m("ngIf",((e=t.passwordForm.get("password"))==null?null:e.invalid)&&((e=t.passwordForm.get("password"))==null?null:e.touched)),c(),m("ngIf",t.errors.length>0),c(),m("disabled",t.passwordForm.invalid)}}var N=class n{constructor(l,e,t,s){this.fb=l;this.router=e;this.http=t;this.authService=s;this.emailForm=this.fb.group({email:["",[x.required,x.email]]}),this.passwordForm=this.fb.group({password:["",[x.required]]})}emailForm;passwordForm;errors=[];currentStep=1;userEmail="";ngOnInit(){}goToNextStep(){this.emailForm.valid?(this.userEmail=this.emailForm.get("email")?.value,this.currentStep=2,console.log("Email validated:",this.userEmail)):this.emailForm.markAllAsTouched()}goBack(){this.currentStep=1}login(){if(this.errors=[],this.passwordForm.valid&&this.userEmail){let l={email:this.userEmail,password:this.passwordForm.get("password")?.value};console.log("Datos de login:",l),this.authService.login(l).subscribe({next:e=>{this.router.navigate(["/dashboard"])},error:e=>{console.error("Error en login:",e),this.errors.push(e.error?.message)}})}else this.userEmail||alert("El email es obligatorio"),this.passwordForm.markAllAsTouched()}loginWithGoogle(){console.log("Google login clicked"),alert("Google login clicked (This is a stub - no actual authentication)")}loginWithFacebook(){console.log("Facebook login clicked"),alert("Facebook login clicked (This is a stub - no actual authentication)")}navigateToForgotPassword(){this.router.navigate(["/forgot-password"])}navigateToRegister(){console.log("Navigate to register"),this.router.navigate(["/register"])}static \u0275fac=function(e){return new(e||n)(_(I),_(F),_(k),_(V))};static \u0275cmp=v({type:n,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"auth-container"],["src","assets/images/lineage2Terra_blanco.png","width","300","alt","asd",1,"logoTerra"],[1,"auth-card"],[1,"auth-title"],[1,"fa-solid","fa-user"],["class","form-step",4,"ngIf"],[1,"auth-links"],[1,"auth-link",3,"click"],[1,"fas","fa-question-circle"],[1,"fas","fa-user-plus"],[1,"form-step"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email","placeholder"," Enter your email",1,"form-control"],["class","error-message",4,"ngIf"],["type","submit",1,"btn-primary",3,"disabled"],[1,"fas","fa-arrow-right"],[1,"social-login"],[1,"divider"],[1,"social-buttons"],["type","button",1,"btn-social",3,"click"],[1,"fab","fa-google","social-icon"],[1,"fab","fa-facebook-f","social-icon"],[1,"error-message"],[4,"ngIf"],["for","password"],[1,"fas","fa-lock"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"fas","fa-sign-in-alt"],["type","button",1,"btn-secondary",3,"click"],[1,"fas","fa-arrow-left"],["role","alert",1,"alert","alert-danger"],[1,"mb-0",2,"list-style","none","padding","0px"],[4,"ngFor","ngForOf"],[1,"fa-solid","fa-triangle-exclamation","text-danger"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div"),r(2,"img",1),o(),i(3,"div",2)(4,"h2",3),r(5,"i",4),a(6," Login to your account "),o(),p(7,j,22,3,"div",5)(8,W,17,4,"div",5),i(9,"div",6)(10,"a",7),g("click",function(){return t.navigateToForgotPassword()}),r(11,"i",8),a(12," Forgot password? "),o(),i(13,"a",7),g("click",function(){return t.navigateToRegister()}),r(14,"i",9),a(15," Create an account "),o()()()()),e&2&&(c(7),m("ngIf",t.currentStep===1),c(),m("ngIf",t.currentStep===2))},dependencies:[y,C,w,L,M,O,P,S,E,T],styles:['.auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:linear-gradient(to bottom,#0c0f20,#000);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;box-sizing:border-box}.auth-card[_ngcontent-%COMP%]{background-color:#11111165;border-radius:12px;padding:30px;width:100%;max-width:400px;border:1px solid #3b3b3b}.auth-title[_ngcontent-%COMP%]{color:#f9f9f9;text-align:center;margin-bottom:30px;font-weight:600;font-size:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#e0e0e0;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;border-radius:8px;height:50px;border:1px solid rgba(255,255,255,.2);background-color:#ffffff12;color:#fff;font-size:16px;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#dabe64;box-shadow:0 0 0 2px #dabe6440}.form-control[_ngcontent-%COMP%]::placeholder{color:#fff6}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:8px;background:linear-gradient(to right,#746535,#dabe64);color:#0c0f20;font-weight:600;font-size:16px;cursor:pointer;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #dabe644d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.btn-secondary[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid rgba(218,190,100,.5);border-radius:8px;background:transparent;color:#dabe64;font-weight:600;font-size:16px;cursor:pointer;transition:all .3s ease}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#dabe641a}.social-login[_ngcontent-%COMP%]{margin-top:24px}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#ffffff80;font-size:14px;margin:20px 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid rgba(255,255,255,.2)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 10px}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.btn-social[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid rgba(255,255,255,.2);border-radius:8px;background-color:#ffffff12;color:#fff;font-size:14px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.btn-social[_ngcontent-%COMP%]:hover{background-color:#ffffff1f}.social-icon[_ngcontent-%COMP%]{margin-right:8px}.auth-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:24px}.auth-link[_ngcontent-%COMP%]{color:#dabe64;text-decoration:none;font-size:14px;cursor:pointer;transition:all .3s ease}.auth-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;font-size:12px;margin-top:5px}.form-step[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding:20px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{padding:10px}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}.auth-links[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:10px}}']})};export{N as LoginComponent};
