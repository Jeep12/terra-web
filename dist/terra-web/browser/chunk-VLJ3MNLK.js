import{b as R,d as V,g as I,o as T,p as z,s as A}from"./chunk-4IBMTDLT.js";import{d as P,f as O,m as w,o as S,s as k}from"./chunk-R5WGTBAP.js";import{Aa as h,Ba as m,Ga as b,La as _,Sa as d,Xa as i,Ya as n,Z as p,Za as a,_ as g,ab as v,db as u,eb as f,gb as s,ib as C,kb as y,lb as M,mb as E,wa as c}from"./chunk-LPC6BBNP.js";function F(o,t){o&1&&(i(0,"div",11)(1,"div",12),a(2,"i",13),n(),i(3,"h3"),s(4,"Email sent!"),n(),i(5,"p"),a(6,"i",14),s(7," Check your inbox to verify your account. Also check your spam folder. "),n()())}function N(o,t){if(o&1&&(i(0,"div",15)(1,"div",16),a(2,"i",17),s(3),n()()),o&2){let e=f();c(3),C(" ",e.errorMessage," ")}}function q(o,t){if(o&1){let e=v();i(0,"div")(1,"div",18)(2,"label",19),a(3,"i",20),s(4," Email address "),n(),i(5,"input",21),E("ngModelChange",function(r){p(e);let x=f();return M(x.email,r)||(x.email=r),g(r)}),n()(),i(6,"p",22),a(7,"i",23),s(8," Check your spam folder if you don't see the email. "),n(),i(9,"button",24),u("click",function(){p(e);let r=f();return g(r.resendEmail())}),s(10," Resend Email "),n()()}if(o&2){let e=f();c(5),y("ngModel",e.email),d("disabled",e.emailFromQuery),c(4),d("disabled",!e.email)}}var j=class o{constructor(t,e,l,r){this.route=t;this.router=e;this.authService=l;this.renderer=r}email="";emailFromQuery=!1;emailSent=!1;errorMessage=null;ngOnInit(){let t=document.querySelector(".auth-container"),e=localStorage.getItem("theme");t&&(e==="dark"?this.renderer.addClass(t,"dark-mode"):this.renderer.removeClass(t,"dark-mode")),this.route.queryParams.subscribe(l=>{let r=l.email;r&&(this.email=r,this.emailFromQuery=!0)})}resendEmail(){this.authService.resendVerificationEmail(this.email).subscribe({next:t=>{this.emailSent=!0,this.errorMessage=null},error:t=>{this.emailSent=!1,this.errorMessage=t.error?.message||"Error sending email."}})}navigateToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||o)(m(w),m(S),m(k),m(h))};static \u0275cmp=b({type:o,selectors:[["app-resend-email-verification"]],decls:15,vars:3,consts:[[1,"auth-container"],[2,"position","relative","width","300px","height","227px"],["src","assets/images/lineage2Terra_blanco.webp","alt","Logo de Terra","width","300","height","227",1,"logoTerra"],[1,"auth-card"],[1,"auth-title"],[1,"fa-solid","fa-envelope"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"fas","fa-arrow-left"],[1,"success-message"],[1,"success-icon"],[1,"fas","fa-check-circle"],[1,"fas","fa-info-circle"],[1,"error-message"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","text-danger"],[1,"form-group"],["for","email"],[1,"fas","fa-envelope"],["type","email","id","email","placeholder","Enter your email","required","","email","",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"hint-text"],[1,"fa-solid","fa-circle-exclamation"],[1,"btn-primary",3,"click","disabled"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"div")(2,"div",1),a(3,"img",2),n()(),i(4,"div",3)(5,"h2",4),a(6,"i",5),s(7," Resend Verification Email "),n(),_(8,F,8,0,"div",6)(9,N,4,1,"div",7)(10,q,11,3,"div",8),a(11,"hr"),i(12,"button",9),u("click",function(){return l.navigateToLogin()}),a(13,"i",10),s(14," Back to login"),n()()()),e&2&&(c(8),d("ngIf",l.emailSent),c(),d("ngIf",l.errorMessage),c(),d("ngIf",!l.emailSent))},dependencies:[O,P,A,R,V,T,z,I],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:linear-gradient(to bottom,#0c0f20,#000);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;box-sizing:border-box}.auth-card[_ngcontent-%COMP%]{background-color:#11111165;border-radius:12px;padding:30px;width:100%;max-width:400px;border:1px solid #3b3b3b}.auth-title[_ngcontent-%COMP%]{color:#f9f9f9;text-align:center;margin-bottom:30px;font-weight:600;font-size:24px}.info-text[_ngcontent-%COMP%]{color:#dabe64;font-size:14px;margin-bottom:20px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#e0e0e0;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;border-radius:8px;height:50px;border:1px solid rgba(255,255,255,.2);background-color:#ffffff12;color:#fff;font-size:16px;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#dabe64;box-shadow:0 0 0 2px #dabe6440}.form-control[_ngcontent-%COMP%]::placeholder{color:#fff6}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:8px;background:linear-gradient(to right,#746535,#dabe64);color:#0c0f20;font-weight:600;font-size:16px;cursor:pointer;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #dabe644d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.hint-text[_ngcontent-%COMP%]{font-size:13px;color:#fff9;margin-top:12px;text-align:center}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding:20px}.btn-primary[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{padding:10px}}.success-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(to right,#746535,#dabe64);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;font-size:30px;color:#0c0f20}.success-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px;text-align:center;color:#dabe64}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffb3;margin-bottom:10px;text-align:start;color:#dabe64;font-size:14px;text-decoration:underline}.error-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(to right,#db2e03,#aa3d0a);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;font-size:30px;color:#0c0f20}.error-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:5px;text-align:center;font-size:20px;color:#746535}.auth-container.dark-mode[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#121212,#000);color:#ddd}"]})};export{j as ResendEmailVerificationComponent};
