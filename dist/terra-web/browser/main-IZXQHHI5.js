import{b as ke,d as Te,g as Ie,u as Ae}from"./chunk-FRYQERJK.js";import{a as Se}from"./chunk-2FDLRUIF.js";import{a as Ce,b as we,e as ye,f as Pe,i as Oe,j as V}from"./chunk-HM7QQ5OB.js";import{A as ve,B as _e,C as Me,D as I,j as he,k as fe,l as k,m as ue,o as be,q as T,y as F,z as xe}from"./chunk-YLGUF7DC.js";import{$a as C,Ab as oe,B as G,Cb as H,D as P,Db as L,Eb as N,Gb as g,Hb as ie,Ib as re,Ka as q,Kb as ae,La as Z,Lb as se,Mb as pe,P as Q,Pb as le,Qb as W,Ra as s,Rb as me,S as O,T as Y,Tb as de,Wa as ee,Wb as ce,X as J,Y as b,Yb as ge,ab as te,ca as f,d as y,da as u,eb as v,k as x,mb as p,o as U,ob as ne,p as R,rb as r,s as K,sb as a,t as X,tb as m,wb as S,zb as _}from"./chunk-TAN2J6X4.js";var Ee=(t,e)=>{let n=b(Se),o=b(Pe);return n.isLoggedIn().pipe(Q(i=>{i||o.navigate(["/login"])}),X(i=>i),P(()=>(o.navigate(["/login"]),U(!1))))};var $=[{path:"",loadComponent:()=>import("./chunk-GOVS5G76.js").then(t=>t.WebsiteComponent),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-D3BVVPAE.js").then(t=>t.HomeComponent)},{path:"gallery",loadComponent:()=>import("./chunk-UT3VPACV.js").then(t=>t.GalleryComponent)},{path:"downloads",loadComponent:()=>import("./chunk-FHX4AUWU.js").then(t=>t.DownloadComponent)}]},{path:"login",loadComponent:()=>import("./chunk-PZEYZQSX.js").then(t=>t.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-SAMF4DTG.js").then(t=>t.RegisterComponent)},{path:"reset-password",loadComponent:()=>import("./chunk-VWOACJ4S.js").then(t=>t.ResetPasswordComponent)},{path:"forgot-password",loadComponent:()=>import("./chunk-OUXVINED.js").then(t=>t.ForgotPasswordComponent)},{path:"resend-email-verification",loadComponent:()=>import("./chunk-GHERTY4N.js").then(t=>t.ResendEmailVerificationComponent)},{path:"verify-email",loadComponent:()=>import("./chunk-NOXPTNQM.js").then(t=>t.VerifyEmailComponent)},{path:"two-factor-step",loadComponent:()=>import("./chunk-3Z3FOWMC.js").then(t=>t.TwoFactorComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-5C7ZF3JF.js").then(t=>t.Dashboard2Component),canActivate:[Ee],children:[{path:"",pathMatch:"full",redirectTo:"home-dashboard"},{path:"home-dashboard",loadComponent:()=>import("./chunk-KZCGOMLO.js").then(t=>t.DashboardHomeComponent)},{path:"create-account-game",loadComponent:()=>import("./chunk-MYGUXYB4.js").then(t=>t.CreateAccountGameComponent)},{path:"change-password-game",loadComponent:()=>import("./chunk-YAZUOG7S.js").then(t=>t.ChangePasswordGameComponent)},{path:"buy-terra-coin",loadComponent:()=>import("./chunk-DZILS3QL.js").then(t=>t.BuyTerraCoinComponent)},{path:"send-terra-coin",loadComponent:()=>import("./chunk-TAH2SYVM.js").then(t=>t.SendTerraCoinComponent)},{path:"support",loadComponent:()=>import("./chunk-I5BPGWR3.js").then(t=>t.SupportComponent)},{path:"offline-market",loadComponent:()=>import("./chunk-JE3LGZ7P.js").then(t=>t.OfflineMarketComponent)},{path:"setting-account-master",loadComponent:()=>import("./chunk-MN5HMTWR.js").then(t=>t.SettingsAccountMasterComponent)}]},{path:"**",loadComponent:()=>import("./chunk-IGVEPTG7.js").then(t=>t.WebsiteNotFoundComponent)}],je=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=te({type:t});static \u0275inj=Y({imports:[V.forRoot($),V]})};var De=(t,e)=>{let n=localStorage.getItem("deviceId")||"",o=t.url.includes("n8n.l2terra.online"),i=t.url.includes("/api/auth/me"),d=o?t.headers:t.headers.set("X-Device-Id",n),l=t.clone({withCredentials:!o,headers:d});return e(l).pipe(P(c=>{if(i&&(c.status===401||c.status===403)){let h=new Error;return h.name="SilentAuthError",h.message=c.message,h.stack=c.stack,Object.defineProperty(h,"status",{value:c.status,writable:!1}),Object.defineProperty(h,"error",{value:c.error,writable:!1}),R(()=>h)}return R(()=>c)}))};var Be={providers:[ce({eventCoalescing:!0}),Oe($),ve(Me(),_e([De]))]};var A=class t{constructor(e){this.http=e}WEBHOOK_URL=I.WEBHOOK_URL_N8N;AUTH_USERNAME=I.AUTH_USERNAME_N8N;AUTH_PASSWORD=I.AUTH_PASSWORD_N8N;sendMessageAsync(e){return y(this,null,function*(){let n={sessionId:"asdasdsa",message:e,timestamp:new Date().toISOString(),action:"sendMessage"},o=new F({"Content-Type":"application/json",Authorization:"Basic "+btoa(`${this.AUTH_USERNAME}:${this.AUTH_PASSWORD}`)});try{return yield K(this.http.post(this.WEBHOOK_URL,n,{headers:o,withCredentials:!1}))}catch(i){throw console.error("Error al enviar mensaje:",i),i}})}sendMessage(e){let n={sessionId:"asdasdsa",message:e,timestamp:new Date().toISOString(),action:"sendMessage"},o=new F({"Content-Type":"application/json",Authorization:"Basic "+btoa(`${this.AUTH_USERNAME}:${this.AUTH_PASSWORD}`)});return this.http.post(this.WEBHOOK_URL,n,{headers:o,withCredentials:!1})}static \u0275fac=function(n){return new(n||t)(J(xe))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ne=["messagesContainer"],We=["messageInput"],Fe=(t,e)=>({"user-wrapper":t,"bot-wrapper":e}),Ve=(t,e)=>({"user-message":t,"bot-message":e});function $e(t,e){t&1&&(r(0,"div",13)(1,"h3"),g(2,"Hello! \u{1F44B}"),a(),r(3,"p"),g(4,"How can I help you today?"),a()())}function ze(t,e){if(t&1&&(r(0,"div",14)(1,"div",15)(2,"div",16),m(3,"div",17),r(4,"div",18),g(5),me(6,"date"),a()()()()),t&2){let n=e.$implicit;p("ngClass",W(7,Fe,n.sender==="user",n.sender==="bot")),s(),p("ngClass",W(10,Ve,n.sender==="user",n.sender==="bot")),s(2),p("innerHTML",n.text,q),s(2),ie(de(6,4,n.timestamp,"shortTime"))}}function Ue(t,e){t&1&&(r(0,"div",19)(1,"div",20)(2,"div",21),m(3,"span")(4,"span")(5,"span"),a(),r(6,"span",22),g(7,"Typing..."),a()()())}function Ke(t,e){t&1&&(r(0,"span",23),m(1,"i",24),a())}function Xe(t,e){t&1&&(r(0,"span",25),m(1,"i",26),a())}var E=class t{messagesContainer;messageInput;msg="";messages=[];isLoading=!1;shouldScrollToBottom=!1;chatbotService=b(A);cdRef=b(ge);sanitizer=b(we);ngAfterViewChecked(){this.shouldScrollToBottom&&(this.scrollToBottom(),this.shouldScrollToBottom=!1)}sendMessage(){return y(this,null,function*(){let e=this.msg.trim();if(!(!e||this.isLoading)){this.addMessage(e,"user"),this.msg="",this.isLoading=!0,this.shouldScrollToBottom=!0,setTimeout(()=>{this.messageInput?.nativeElement?.focus()},100);try{let n=yield this.chatbotService.sendMessageAsync(e),o=this.extractBotResponse(n);this.addMessage(o,"bot")}catch(n){this.addMessage("Error al conectar con el servicio","bot"),console.error("Error:",n)}finally{this.isLoading=!1,this.shouldScrollToBottom=!0,this.forceViewUpdate()}}})}onKeyPress(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),this.sendMessage())}addMessage(e,n){let o=n==="bot"?this.sanitizer.bypassSecurityTrustHtml(e.replace(/\n/g,"<br>")):e;this.messages=[...this.messages,{text:o,sender:n,timestamp:new Date}],this.shouldScrollToBottom=!0,this.cdRef.detectChanges()}extractBotResponse(e){return e?.output||e?.reply||e?.message||e?.data?.message||e?.result||JSON.stringify(e)||"Recib\xED tu mensaje"}forceViewUpdate(){this.cdRef.detectChanges()}scrollToBottom(){if(this.messagesContainer?.nativeElement){let e=this.messagesContainer.nativeElement;e.scrollTop=e.scrollHeight}}trackByMessage(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=C({type:t,selectors:[["app-botterra"]],viewQuery:function(n,o){if(n&1&&(H(Ne,5),H(We,5)),n&2){let i;L(i=N())&&(o.messagesContainer=i.first),L(i=N())&&(o.messageInput=i.first)}},decls:13,vars:11,consts:[["messagesContainer",""],["messageInput",""],[1,"chatbot-container"],[1,"messages-container"],["class","welcome-message",4,"ngIf"],["class","message-wrapper",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["class","loading-wrapper",4,"ngIf"],[1,"input-container"],[1,"input-wrapper"],["placeholder","Type your message...","name","message","autocomplete","off",1,"message-input",3,"ngModelChange","keypress","ngModel","disabled"],[1,"send-button",3,"click","disabled"],["class","send-icon",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"welcome-message"],[1,"message-wrapper",3,"ngClass"],[1,"message",3,"ngClass"],[1,"message-content"],[1,"message-text",3,"innerHTML"],[1,"message-time"],[1,"loading-wrapper"],[1,"loading-message"],[1,"typing-indicator"],[1,"typing-text"],[1,"send-icon"],[1,"fa-solid","fa-paper-plane"],[1,"loading-spinner"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(n,o){if(n&1){let i=S();r(0,"div",2)(1,"div",3,0),v(3,$e,5,0,"div",4)(4,ze,7,13,"div",5)(5,Ue,8,0,"div",6),a(),r(6,"div",7)(7,"div",8)(8,"input",9,1),pe("ngModelChange",function(l){return f(i),se(o.msg,l)||(o.msg=l),u(l)}),_("keypress",function(l){return f(i),u(o.onKeyPress(l))}),a(),r(10,"button",10),_("click",function(){return f(i),u(o.sendMessage())}),v(11,Ke,2,0,"span",11)(12,Xe,2,0,"span",12),a()()()()}n&2&&(s(3),p("ngIf",o.messages.length===0),s(),p("ngForOf",o.messages)("ngForTrackBy",o.trackByMessage),s(),p("ngIf",o.isLoading),s(3),ae("ngModel",o.msg),p("disabled",o.isLoading),s(2),ne("loading",o.isLoading),p("disabled",!o.msg.trim()||o.isLoading),s(),p("ngIf",!o.isLoading),s(),p("ngIf",o.isLoading))},dependencies:[T,he,fe,k,be,Ae,ke,Te,Ie],styles:['.chatbot-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:linear-gradient(to bottom,#0c0f20,#000);border-radius:16px;overflow:hidden;box-shadow:0 20px 40px #0000004d;position:relative}.chatbot-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,#dabe64,transparent)}.messages-container[_ngcontent-%COMP%]{flex:1;padding:24px;overflow-y:auto;display:flex;flex-direction:column;gap:16px;scroll-behavior:smooth}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000001a;border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(to bottom,#746535,#dabe64);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(to bottom,#dabe64,#746535)}.welcome-message[_ngcontent-%COMP%]{text-align:center;padding:32px 20px;background:linear-gradient(135deg,#dabe641a,#7465351a);border:1px solid rgba(218,190,100,.3);border-radius:16px;margin-bottom:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.welcome-icon[_ngcontent-%COMP%]{margin-bottom:16px}.welcome-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#dabe64;filter:drop-shadow(0 0 10px rgba(218,190,100,.5))}.welcome-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#dabe64;margin:0 0 8px;font-size:1.5rem;font-weight:600}.welcome-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#dabe64cc;margin:0;font-size:1rem}.message-wrapper[_ngcontent-%COMP%]{display:flex;animation:_ngcontent-%COMP%_slideIn .4s ease-out}.user-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}.bot-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}.message[_ngcontent-%COMP%]{max-width:75%;padding:16px 20px;border-radius:20px;position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.message[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0000004d}.bot-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1119,#1e1e1e99);color:#dabe64;border:1px solid rgba(218,190,100,.3);border-bottom-left-radius:6px;position:relative}.bot-message[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-8px;bottom:0;width:0;height:0;border-style:solid;border-width:0 8px 12px 0;border-color:transparent rgba(218,190,100,.3) transparent transparent}.user-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dabe6426,#74653526);color:#dabe64;border:1px solid rgba(218,190,100,.4);border-bottom-right-radius:6px;position:relative}.user-message[_ngcontent-%COMP%]:before{content:"";position:absolute;right:-8px;bottom:0;width:0;height:0;border-style:solid;border-width:0 0 12px 8px;border-color:transparent transparent rgba(218,190,100,.4) transparent}.message-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-text[_ngcontent-%COMP%]{line-height:1.5;word-wrap:break-word}.message-time[_ngcontent-%COMP%]{font-size:.7rem;opacity:.6;margin-top:8px;align-self:flex-end;color:#dabe64b3}.loading-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;animation:_ngcontent-%COMP%_slideIn .4s ease-out}.loading-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;background:linear-gradient(135deg,#1119,#1e1e1e99);border:1px solid rgba(218,190,100,.3);border-radius:20px 20px 20px 6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:4px}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:8px;height:8px;background:linear-gradient(45deg,#746535,#dabe64);border-radius:50%;animation:_ngcontent-%COMP%_typing 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.typing-text[_ngcontent-%COMP%]{color:#dabe64cc;font-size:.9rem;font-style:italic}.input-container[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(135deg,#0000004d,#1a1f2e4d);border-top:1px solid rgba(218,190,100,.2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.input-wrapper[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.message-input[_ngcontent-%COMP%]{flex:1;padding:14px 20px;border:2px solid rgba(218,190,100,.3);border-radius:25px;outline:none;font-size:15px;background:#0000004d;color:#dabe64;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.message-input[_ngcontent-%COMP%]::placeholder{color:#dabe6480}.message-input[_ngcontent-%COMP%]:focus{border-color:#dabe64;box-shadow:0 0 0 3px #dabe6433;background:#0006}.send-button[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:50%;background:linear-gradient(135deg,#746535,#dabe64);color:#fff;border:none;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden}.send-button[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#dabe64,#746535);opacity:0;transition:opacity .3s ease}.send-button[_ngcontent-%COMP%]:hover:not(:disabled):before{opacity:1}.send-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #dabe644d}.send-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.send-icon[_ngcontent-%COMP%], .loading-spinner[_ngcontent-%COMP%]{position:relative;z-index:2;font-size:1.1rem}.send-button.loading[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1s infinite}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_typing{0%,60%,to{transform:translateY(0);opacity:.5}30%{transform:translateY(-8px);opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@media (max-width: 768px){.chatbot-container[_ngcontent-%COMP%]{border-radius:12px}.messages-container[_ngcontent-%COMP%]{padding:16px}.message[_ngcontent-%COMP%]{max-width:85%;padding:12px 16px}.input-container[_ngcontent-%COMP%]{padding:16px}.message-input[_ngcontent-%COMP%]{padding:12px 16px;font-size:14px}.send-button[_ngcontent-%COMP%]{width:46px;height:46px}}']})};var z=class{anim="IDLE";frame=0;x=50;direction="right";walkDuration=15e3;setAnim(e){this.anim=e,this.frame=0}},w=class extends z{};var j=class t{personajes=[new w,new w];activeIndex=0;anim$=new x(this.personajes[0].anim);frame$=new x(this.personajes[0].frame);x$=new x(this.personajes[0].x);direction$=new x(this.personajes[0].direction);frameIntervalMs=80;loopSub=null;idleTimeout;walkTarget=null;walkDuration=1200;walkStartTime=0;walkStartX=0;constructor(){this.startLoop()}setActive(e){if(e>=0&&e<this.personajes.length){this.activeIndex=e;let n=this.personajes[this.activeIndex];this.anim$.next(n.anim),this.frame$.next(n.frame),this.x$.next(n.x),this.direction$.next(n.direction)}}get personaje(){return this.personajes[this.activeIndex]}startLoop(){this.loopSub&&this.loopSub.unsubscribe(),this.loopSub=G(this.frameIntervalMs).subscribe(()=>this.gameTick())}gameTick(){let e=this.personaje;if(e.frame=(e.frame+1)%10,this.frame$.next(e.frame),e.anim==="IDLE")this.idleTimeout||(this.idleTimeout=setTimeout(()=>{this.startWalk()},1e4));else if(e.anim==="WALK"&&this.walkTarget!==null){let o=Date.now()-this.walkStartTime,i=e.walkDuration,d=Math.min(o/i,1),l=this.walkStartX+(this.walkTarget-this.walkStartX)*d,c=e.spriteWidth||180,h=window.innerWidth||1e3,He=100-c/h*100;l=Math.max(0,Math.min(l,He)),e.x=l,this.x$.next(e.x),d>=1&&(e.setAnim("IDLE"),this.anim$.next(e.anim),this.walkTarget=null,this.idleTimeout=null)}else this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null)}startWalk(){let e=this.personaje,n,o=e.spriteWidth||180,i=window.innerWidth||1e3,d=100-o/i*100,l=0;if(Math.random()<.8?n=50:n=Math.random()<.5?l:d,n=Math.max(l,Math.min(n,d)),Math.abs(n-e.x)<2){this.idleTimeout=setTimeout(()=>this.startWalk(),1e4);return}e.direction=n>e.x?"right":"left",this.direction$.next(e.direction),e.setAnim("WALK"),this.anim$.next(e.anim),this.walkTarget=n,this.walkStartTime=Date.now(),this.walkStartX=e.x}setAnim(e){this.personaje.setAnim(e),this.anim$.next(this.personaje.anim),this.frame$.next(this.personaje.frame)}atacar(){this.setAnim("ATTACK"),setTimeout(()=>{this.setAnim("IDLE"),this.idleTimeout=null},10*this.frameIntervalMs)}saltar(){this.setAnim("JUMP"),setTimeout(()=>{this.setAnim("IDLE"),this.idleTimeout=null},10*this.frameIntervalMs)}morir(){this.setAnim("DIE"),setTimeout(()=>{this.setAnim("IDLE"),this.idleTimeout=null},10*this.frameIntervalMs)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})};var Qe=t=>({left:t,bottom:"90px",transform:"translateX(-50%)"});function Ye(t,e){if(t&1&&(r(0,"div",5),g(1),m(2,"div",6),a()),t&2){let n=oe();p("ngStyle",le(2,Qe,n.x+"%")),s(),re(" ",n.dialogMessage," ")}}var D=class t{constructor(e){this.personajeService=e}anim="IDLE";frame=0;x=50;direction="right";subs=[];dialogMessage=null;dialogTimeout;dialogVisibleMs=8e3;dialogHiddenMs=12e3;dialogMessages=["Our Terra server is under development!","Click here for more information!","Stay tuned for upcoming updates!","Have questions? Tap me!","Join our Discord for more info!"];ngOnInit(){this.subs.push(this.personajeService.anim$.subscribe(e=>{this.anim=e,e==="IDLE"?this.startDialogLoop():this.clearDialog()})),this.subs.push(this.personajeService.frame$.subscribe(e=>this.frame=e)),this.subs.push(this.personajeService.x$.subscribe(e=>this.x=e)),this.subs.push(this.personajeService.direction$.subscribe(e=>this.direction=e))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe()),this.clearDialog()}startDialogLoop(){this.dialogTimeout||this.setRandomDialogMessage()}setRandomDialogMessage(){if(this.anim!=="IDLE")return;let e=Math.floor(Math.random()*this.dialogMessages.length);this.dialogMessage=this.dialogMessages[e],this.dialogTimeout=setTimeout(()=>{this.dialogMessage=null,this.dialogTimeout=setTimeout(()=>this.setRandomDialogMessage(),this.dialogHiddenMs)},this.dialogVisibleMs)}clearDialog(){this.dialogTimeout&&clearTimeout(this.dialogTimeout),this.dialogTimeout=null,this.dialogMessage=null}onHover(){this.personajeService.atacar()}onLeave(){this.personajeService.setAnim("IDLE")}onClick(){this.personajeService.saltar()}get spriteUrl(){let e=this.anim,n=this.frame.toString().padStart(3,"0");return`assets/sprite-boot/_PNG/1_KNIGHT/Knight_01__${e}_${n}.png`}get spriteStyle(){return{left:this.x+"%",bottom:"0",position:"absolute",transform:this.direction==="left"?"scaleX(-1)":"scaleX(1)",transition:"left 0.1s linear",height:"100%",pointerEvents:"auto",objectFit:"contain",objectPosition:"bottom",transformOrigin:"bottom"}}static \u0275fac=function(n){return new(n||t)(ee(j))};static \u0275cmp=C({type:t,selectors:[["app-sprite-bot"]],decls:5,vars:3,consts:[["container",""],[1,"sprite-bot-container"],[1,"box"],["alt","Sprite Bot","tabindex","0","aria-label","Caballero animado interactivo",3,"mouseenter","mouseleave","click","src","ngStyle"],["class","sprite-dialog",3,"ngStyle",4,"ngIf"],[1,"sprite-dialog",3,"ngStyle"],[1,"sprite-dialog-triangle"]],template:function(n,o){if(n&1){let i=S();r(0,"div",1,0)(2,"div",2)(3,"img",3),_("mouseenter",function(){return f(i),u(o.onHover())})("mouseleave",function(){return f(i),u(o.onLeave())})("click",function(){return f(i),u(o.onClick())}),a(),v(4,Ye,3,4,"div",4),a()()}n&2&&(s(3),p("src",o.spriteUrl,Z)("ngStyle",o.spriteStyle),s(),p("ngIf",o.dialogMessage))},dependencies:[T,k,ue],styles:[".sprite-bot-container[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100vw;height:100px;z-index:1;pointer-events:none;display:flex;align-items:flex-end;justify-content:flex-start}.sprite-bot-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{padding:0;background:none;width:100%;height:100%}.sprite-bot-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:100%;object-fit:contain;position:absolute;left:0;bottom:-30px!important;pointer-events:auto;display:block;margin:0;cursor:pointer}@media (max-width: 1024px){.sprite-bot-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:100%;object-fit:contain;position:absolute;left:0;bottom:-20px!important;pointer-events:auto;display:block;margin:0;cursor:pointer}}@media (max-width: 600px){.sprite-bot-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:100%;object-fit:contain;position:absolute;left:0;bottom:-15px!important;pointer-events:auto;display:block;margin:0;cursor:pointer}}.sprite-dialog[_ngcontent-%COMP%]{position:fixed;transform:translate(0)!important;bottom:80px!important;padding:10px;border:none;border-radius:5px;border:2px dashed #dabe64;color:#dabe64;min-width:150px}.sprite-dialog-triangle[_ngcontent-%COMP%]{position:absolute;left:50%;top:100%;transform:translate(-50%);width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-top:14px solid #dabe64}@keyframes _ngcontent-%COMP%_fadeInDialog{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 1024px){.sprite-bot-container[_ngcontent-%COMP%]{width:100vw;height:120px}.sprite-bot-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px}.sprite-dialog[_ngcontent-%COMP%]{width:80px;bottom:70px;font-size:.95em;padding:6px 6px 4px}.sprite-dialog-triangle[_ngcontent-%COMP%]{border-left:8px solid transparent;border-right:8px solid transparent;border-top:10px solid #222b3a}}@media (max-width: 600px){.sprite-bot-container[_ngcontent-%COMP%]{width:100vw;height:96px}.sprite-bot-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:96px}.sprite-dialog[_ngcontent-%COMP%]{width:55px;bottom:45px;font-size:.9em;padding:4px 4px 2px}.sprite-dialog-triangle[_ngcontent-%COMP%]{border-left:6px solid transparent;border-right:6px solid transparent;border-top:7px solid #222b3a}}.mini-ak4n1-container[_ngcontent-%COMP%]{width:120px;height:120px;position:relative;overflow:hidden}.mini-ak4n1-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:100%;object-fit:contain;pointer-events:auto}"]})};var B=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=C({type:t,selectors:[["app-root"]],decls:11,vars:0,consts:[["tabindex","-1","id","offCanvasChat","aria-labelledby","offCanvasChatLabel",1,"offcanvas","offcanvas-end","chatbot-container"],["src","","alt","","srcset",""],[1,"offcanvas-header"],["id","offCanvasChatLabel",1,"offcanvas-title"],[1,"fa-solid","fa-robot"],["type","button","data-bs-dismiss","offcanvas","aria-label","Cerrar",1,"btn-close","text-reset"],[1,"offcanvas-body","p-0"],["data-bs-toggle","offcanvas","data-bs-target","#offCanvasChat","aria-controls","offCanvasChat"]],template:function(n,o){n&1&&(m(0,"router-outlet"),r(1,"div",0),m(2,"img",1),r(3,"div",2)(4,"h5",3),m(5,"i",4),g(6," Terra Assistant"),a(),m(7,"button",5),a(),r(8,"div",6),m(9,"app-botterra"),a()(),m(10,"app-sprite-bot",7))},dependencies:[ye,E,D],styles:['.button-assistant[_ngcontent-%COMP%]{position:fixed;bottom:10%;right:50px;z-index:999;width:60px;height:60px;padding:10px;font-size:24px;background:linear-gradient(to right,#746535,#dabe64);color:#fff;border:none;border-radius:50%;box-shadow:0 2px 8px #0000004d;display:flex;align-items:center;justify-content:center;transition:transform .2s ease}.button-assistant[_ngcontent-%COMP%]:hover{transform:scale(1.05);padding:15px}.chatbot-container[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0c0f20,#000)}.offcanvas-title[_ngcontent-%COMP%]{color:#dabe64}.btn-close[_ngcontent-%COMP%]{filter:none!important;background-image:none!important;color:#dabe64!important;font-size:1.5rem;position:relative}.btn-close[_ngcontent-%COMP%]:before{content:"\\d7";color:#dabe64;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-weight:700;font-size:2.5rem}']})};Ce(B,Be).catch(t=>console.error(t));
